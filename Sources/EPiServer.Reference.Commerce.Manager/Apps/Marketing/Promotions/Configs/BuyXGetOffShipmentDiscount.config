<?xml version="1.0"?>
<Promotion sortorder="300">
  <Type>BuyXGetOffShipmentDiscount</Type>
	<Name>{MarketingStrings:Promotion_BuyXGetOffShipmentDiscount}</Name>
  <Description>{MarketingStrings:Promotion_BuyXGetOffShipmentDiscount_Description}</Description>
  <Group>shipping</Group>
  <Path>BuyXGetDiscountedShipping/ConfigControl.ascx</Path>
  <Expression>
    <RuleSet Name="RuleSet0" Description="{p1:Null}" ChainingBehavior="None" xmlns:p1="http://schemas.microsoft.com/winfx/2006/xaml" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/workflow">
      <RuleSet.Rules>
        <Rule Name="SetupConstants" Description="{p1:Null}" ReevaluationBehavior="Never" Active="True" Priority="4">
          <Rule.ThenActions>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodeMethodInvokeExpression>
                      <ns0:CodeMethodInvokeExpression.Method>
                        <ns0:CodeMethodReferenceExpression MethodName="MakeCopy">
                          <ns0:CodeMethodReferenceExpression.TargetObject>
                            <ns0:CodePropertyReferenceExpression PropertyName="TargetEntriesSet">
                              <ns0:CodePropertyReferenceExpression.TargetObject>
                                <ns0:CodePropertyReferenceExpression PropertyName="PromotionContext">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodeThisReferenceExpression />
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                              </ns0:CodePropertyReferenceExpression.TargetObject>
                            </ns0:CodePropertyReferenceExpression>
                          </ns0:CodeMethodReferenceExpression.TargetObject>
                        </ns0:CodeMethodReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Method>
                      <ns0:CodeMethodInvokeExpression.Parameters>
                        <ns0:CodeMethodInvokeExpression>
                          <ns0:CodeMethodInvokeExpression.Method>
                            <ns0:CodeMethodReferenceExpression MethodName="Split">
                              <ns0:CodeMethodReferenceExpression.TargetObject>
                                <ns0:CodePrimitiveExpression>
                                  <ns0:CodePrimitiveExpression.Value>
                                    <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$RuleSkuSet</ns1:String>
                                  </ns0:CodePrimitiveExpression.Value>
                                </ns0:CodePrimitiveExpression>
                              </ns0:CodeMethodReferenceExpression.TargetObject>
                            </ns0:CodeMethodReferenceExpression>
                          </ns0:CodeMethodInvokeExpression.Method>
                          <ns0:CodeMethodInvokeExpression.Parameters>
                            <ns0:CodeMethodInvokeExpression>
                              <ns0:CodeMethodInvokeExpression.Method>
                                <ns0:CodeMethodReferenceExpression MethodName="Parse">
                                  <ns0:CodeMethodReferenceExpression.TargetObject>
                                    <ns0:CodeTypeReferenceExpression Type="System.Char, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
                                  </ns0:CodeMethodReferenceExpression.TargetObject>
                                </ns0:CodeMethodReferenceExpression>
                              </ns0:CodeMethodInvokeExpression.Method>
                              <ns0:CodeMethodInvokeExpression.Parameters>
                                <ns0:CodePrimitiveExpression>
                                  <ns0:CodePrimitiveExpression.Value>
                                    <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$SkuDelimiter</ns1:String>
                                  </ns0:CodePrimitiveExpression.Value>
                                </ns0:CodePrimitiveExpression>
                              </ns0:CodeMethodInvokeExpression.Parameters>
                            </ns0:CodeMethodInvokeExpression>
                          </ns0:CodeMethodInvokeExpression.Parameters>
                        </ns0:CodeMethodInvokeExpression>
                      </ns0:CodeMethodInvokeExpression.Parameters>
                    </ns0:CodeMethodInvokeExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">RuleSkuSet</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodePrimitiveExpression>
                      <ns0:CodePrimitiveExpression.Value>
                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$RewardType</ns1:String>
                      </ns0:CodePrimitiveExpression.Value>
                    </ns0:CodePrimitiveExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">RewardType</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodeMethodInvokeExpression>
                      <ns0:CodeMethodInvokeExpression.Method>
                        <ns0:CodeMethodReferenceExpression MethodName="Parse">
                          <ns0:CodeMethodReferenceExpression.TargetObject>
                            <ns0:CodeTypeReferenceExpression Type="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
                          </ns0:CodeMethodReferenceExpression.TargetObject>
                        </ns0:CodeMethodReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Method>
                      <ns0:CodeMethodInvokeExpression.Parameters>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$AmountOff</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                        <ns0:CodePropertyReferenceExpression PropertyName="InvariantCulture">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeTypeReferenceExpression Type="System.Globalization.CultureInfo, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Parameters>
                    </ns0:CodeMethodInvokeExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodePrimitiveExpression>
                      <ns0:CodePrimitiveExpression.Value>
                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$AmountType</ns1:String>
                      </ns0:CodePrimitiveExpression.Value>
                    </ns0:CodePrimitiveExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountType</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodePrimitiveExpression>
                      <ns0:CodePrimitiveExpression.Value>
                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$ShippingMethodId</ns1:String>
                      </ns0:CodePrimitiveExpression.Value>
                    </ns0:CodePrimitiveExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">ShippingMethodId</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodeMethodInvokeExpression>
                      <ns0:CodeMethodInvokeExpression.Method>
                        <ns0:CodeMethodReferenceExpression MethodName="Parse">
                          <ns0:CodeMethodReferenceExpression.TargetObject>
                            <ns0:CodeTypeReferenceExpression Type="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
                          </ns0:CodeMethodReferenceExpression.TargetObject>
                        </ns0:CodeMethodReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Method>
                      <ns0:CodeMethodInvokeExpression.Parameters>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">$MinimumQuantity</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                        <ns0:CodePropertyReferenceExpression PropertyName="InvariantCulture">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeTypeReferenceExpression Type="System.Globalization.CultureInfo, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Parameters>
                    </ns0:CodeMethodInvokeExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">MinQuantity</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
          </Rule.ThenActions>
          <Rule.ElseActions>
            <RuleHaltAction />
          </Rule.ElseActions>
          <Rule.Condition>
            <RuleExpressionCondition Name="{p1:Null}">
              <RuleExpressionCondition.Expression>
                <ns0:CodePrimitiveExpression xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodePrimitiveExpression.Value>
                    <ns1:Boolean xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">true</ns1:Boolean>
                  </ns0:CodePrimitiveExpression.Value>
                </ns0:CodePrimitiveExpression>
              </RuleExpressionCondition.Expression>
            </RuleExpressionCondition>
          </Rule.Condition>
        </Rule>
        <Rule Name="AssignReward" Description="{p1:Null}" ReevaluationBehavior="Never" Active="True" Priority="0">
          <Rule.ThenActions>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodePropertyReferenceExpression PropertyName="CurrentPromotion">
                      <ns0:CodePropertyReferenceExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="PromotionContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodePropertyReferenceExpression.TargetObject>
                    </ns0:CodePropertyReferenceExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodePropertyReferenceExpression PropertyName="PromotionItem">
                      <ns0:CodePropertyReferenceExpression.TargetObject>
                        <ns0:CodeMethodInvokeExpression>
                          <ns0:CodeMethodInvokeExpression.Method>
                            <ns0:CodeMethodReferenceExpression MethodName="AddPromotionItemRecord">
                              <ns0:CodeMethodReferenceExpression.TargetObject>
                                <ns0:CodeThisReferenceExpression />
                              </ns0:CodeMethodReferenceExpression.TargetObject>
                            </ns0:CodeMethodReferenceExpression>
                          </ns0:CodeMethodInvokeExpression.Method>
                          <ns0:CodeMethodInvokeExpression.Parameters>
                            <ns0:CodeObjectCreateExpression CreateType="Mediachase.Commerce.Marketing.Objects.PromotionItemRecord, Mediachase.Commerce, Version=5.1.3933.15413, Culture=neutral, PublicKeyToken=6e58b501b34abce3">
                              <ns0:CodeObjectCreateExpression.Parameters>
                                <ns0:CodePropertyReferenceExpression PropertyName="TargetEntriesSet">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodePropertyReferenceExpression PropertyName="PromotionContext">
                                      <ns0:CodePropertyReferenceExpression.TargetObject>
                                        <ns0:CodeThisReferenceExpression />
                                      </ns0:CodePropertyReferenceExpression.TargetObject>
                                    </ns0:CodePropertyReferenceExpression>
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                                <ns0:CodeCastExpression TargetType="Mediachase.Commerce.Marketing.PromotionEntriesSet">
                                  <ns0:CodeCastExpression.Expression>
                                    <ns0:CodeIndexerExpression>
                                      <ns0:CodeIndexerExpression.TargetObject>
                                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                          <ns0:CodePropertyReferenceExpression.TargetObject>
                                            <ns0:CodeThisReferenceExpression />
                                          </ns0:CodePropertyReferenceExpression.TargetObject>
                                        </ns0:CodePropertyReferenceExpression>
                                      </ns0:CodeIndexerExpression.TargetObject>
                                      <ns0:CodeIndexerExpression.Indices>
                                        <ns0:CodePrimitiveExpression>
                                          <ns0:CodePrimitiveExpression.Value>
                                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">RuleSkuSet</ns1:String>
                                          </ns0:CodePrimitiveExpression.Value>
                                        </ns0:CodePrimitiveExpression>
                                      </ns0:CodeIndexerExpression.Indices>
                                    </ns0:CodeIndexerExpression>
                                  </ns0:CodeCastExpression.Expression>
                                </ns0:CodeCastExpression>
                                <ns0:CodeObjectCreateExpression CreateType="Mediachase.Commerce.Marketing.Objects.PromotionReward, Mediachase.Commerce, Version=5.1.3933.15413, Culture=neutral, PublicKeyToken=6e58b501b34abce3">
                                  <ns0:CodeObjectCreateExpression.Parameters>
                                    <ns0:CodeCastExpression TargetType="System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                                      <ns0:CodeCastExpression.Expression>
                                        <ns0:CodeIndexerExpression>
                                          <ns0:CodeIndexerExpression.TargetObject>
                                            <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                              <ns0:CodePropertyReferenceExpression.TargetObject>
                                                <ns0:CodeThisReferenceExpression />
                                              </ns0:CodePropertyReferenceExpression.TargetObject>
                                            </ns0:CodePropertyReferenceExpression>
                                          </ns0:CodeIndexerExpression.TargetObject>
                                          <ns0:CodeIndexerExpression.Indices>
                                            <ns0:CodePrimitiveExpression>
                                              <ns0:CodePrimitiveExpression.Value>
                                                <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">RewardType</ns1:String>
                                              </ns0:CodePrimitiveExpression.Value>
                                            </ns0:CodePrimitiveExpression>
                                          </ns0:CodeIndexerExpression.Indices>
                                        </ns0:CodeIndexerExpression>
                                      </ns0:CodeCastExpression.Expression>
                                    </ns0:CodeCastExpression>
                                    <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                                      <ns0:CodeCastExpression.Expression>
                                        <ns0:CodeIndexerExpression>
                                          <ns0:CodeIndexerExpression.TargetObject>
                                            <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                              <ns0:CodePropertyReferenceExpression.TargetObject>
                                                <ns0:CodeThisReferenceExpression />
                                              </ns0:CodePropertyReferenceExpression.TargetObject>
                                            </ns0:CodePropertyReferenceExpression>
                                          </ns0:CodeIndexerExpression.TargetObject>
                                          <ns0:CodeIndexerExpression.Indices>
                                            <ns0:CodePrimitiveExpression>
                                              <ns0:CodePrimitiveExpression.Value>
                                                <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                                              </ns0:CodePrimitiveExpression.Value>
                                            </ns0:CodePrimitiveExpression>
                                          </ns0:CodeIndexerExpression.Indices>
                                        </ns0:CodeIndexerExpression>
                                      </ns0:CodeCastExpression.Expression>
                                    </ns0:CodeCastExpression>
                                    <ns0:CodeCastExpression TargetType="System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                                      <ns0:CodeCastExpression.Expression>
                                        <ns0:CodeFieldReferenceExpression FieldName="Value">
                                          <ns0:CodeFieldReferenceExpression.TargetObject>
                                            <ns0:CodeTypeReferenceExpression Type="Mediachase.Commerce.Marketing.Objects.PromotionRewardAmountType" />
                                          </ns0:CodeFieldReferenceExpression.TargetObject>
                                        </ns0:CodeFieldReferenceExpression>
                                      </ns0:CodeCastExpression.Expression>
                                    </ns0:CodeCastExpression>
                                  </ns0:CodeObjectCreateExpression.Parameters>
                                </ns0:CodeObjectCreateExpression>
                              </ns0:CodeObjectCreateExpression.Parameters>
                            </ns0:CodeObjectCreateExpression>
                          </ns0:CodeMethodInvokeExpression.Parameters>
                        </ns0:CodeMethodInvokeExpression>
                      </ns0:CodePropertyReferenceExpression.TargetObject>
                    </ns0:CodePropertyReferenceExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodePrimitiveExpression>
                      <ns0:CodePrimitiveExpression.Value>
                        <ns1:Boolean xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">true</ns1:Boolean>
                      </ns0:CodePrimitiveExpression.Value>
                    </ns0:CodePrimitiveExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodePropertyReferenceExpression PropertyName="IsValid">
                      <ns0:CodePropertyReferenceExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="ValidationResult">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodePropertyReferenceExpression.TargetObject>
                    </ns0:CodePropertyReferenceExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
          </Rule.ThenActions>
          <Rule.ElseActions>
            <RuleHaltAction />
          </Rule.ElseActions>
          <Rule.Condition>
            <RuleExpressionCondition Name="{p1:Null}">
              <RuleExpressionCondition.Expression>
                <ns0:CodePrimitiveExpression xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodePrimitiveExpression.Value>
                    <ns1:Boolean xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">true</ns1:Boolean>
                  </ns0:CodePrimitiveExpression.Value>
                </ns0:CodePrimitiveExpression>
              </RuleExpressionCondition.Expression>
            </RuleExpressionCondition>
          </Rule.Condition>
        </Rule>
        <Rule Name="CheckConditionsMet" Description="{p1:Null}" ReevaluationBehavior="Never" Active="True" Priority="3">
          <Rule.ThenActions>
            <RuleHaltAction />
          </Rule.ThenActions>
          <Rule.Condition>
            <RuleExpressionCondition Name="{p1:Null}">
              <RuleExpressionCondition.Expression>
                <ns0:CodeBinaryOperatorExpression Operator="BooleanOr" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeBinaryOperatorExpression.Right>
                    <ns0:CodeBinaryOperatorExpression Operator="ValueEquality">
                      <ns0:CodeBinaryOperatorExpression.Right>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:Boolean xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">false</ns1:Boolean>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeBinaryOperatorExpression.Right>
                      <ns0:CodeBinaryOperatorExpression.Left>
                        <ns0:CodeBinaryOperatorExpression Operator="ValueEquality">
                          <ns0:CodeBinaryOperatorExpression.Right>
                            <ns0:CodeMethodInvokeExpression>
                              <ns0:CodeMethodInvokeExpression.Method>
                                <ns0:CodeMethodReferenceExpression MethodName="ToString">
                                  <ns0:CodeMethodReferenceExpression.TargetObject>
                                    <ns0:CodeIndexerExpression>
                                      <ns0:CodeIndexerExpression.TargetObject>
                                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                          <ns0:CodePropertyReferenceExpression.TargetObject>
                                            <ns0:CodeThisReferenceExpression />
                                          </ns0:CodePropertyReferenceExpression.TargetObject>
                                        </ns0:CodePropertyReferenceExpression>
                                      </ns0:CodeIndexerExpression.TargetObject>
                                      <ns0:CodeIndexerExpression.Indices>
                                        <ns0:CodePrimitiveExpression>
                                          <ns0:CodePrimitiveExpression.Value>
                                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">ShippingMethodId</ns1:String>
                                          </ns0:CodePrimitiveExpression.Value>
                                        </ns0:CodePrimitiveExpression>
                                      </ns0:CodeIndexerExpression.Indices>
                                    </ns0:CodeIndexerExpression>
                                  </ns0:CodeMethodReferenceExpression.TargetObject>
                                </ns0:CodeMethodReferenceExpression>
                              </ns0:CodeMethodInvokeExpression.Method>
                            </ns0:CodeMethodInvokeExpression>
                          </ns0:CodeBinaryOperatorExpression.Right>
                          <ns0:CodeBinaryOperatorExpression.Left>
                            <ns0:CodeMethodInvokeExpression>
                              <ns0:CodeMethodInvokeExpression.Method>
                                <ns0:CodeMethodReferenceExpression MethodName="ToString">
                                  <ns0:CodeMethodReferenceExpression.TargetObject>
                                    <ns0:CodePropertyReferenceExpression PropertyName="ShippingMethodId">
                                      <ns0:CodePropertyReferenceExpression.TargetObject>
                                        <ns0:CodePropertyReferenceExpression PropertyName="PromotionCurrentShipment">
                                          <ns0:CodePropertyReferenceExpression.TargetObject>
                                            <ns0:CodeThisReferenceExpression />
                                          </ns0:CodePropertyReferenceExpression.TargetObject>
                                        </ns0:CodePropertyReferenceExpression>
                                      </ns0:CodePropertyReferenceExpression.TargetObject>
                                    </ns0:CodePropertyReferenceExpression>
                                  </ns0:CodeMethodReferenceExpression.TargetObject>
                                </ns0:CodeMethodReferenceExpression>
                              </ns0:CodeMethodInvokeExpression.Method>
                            </ns0:CodeMethodInvokeExpression>
                          </ns0:CodeBinaryOperatorExpression.Left>
                        </ns0:CodeBinaryOperatorExpression>
                      </ns0:CodeBinaryOperatorExpression.Left>
                    </ns0:CodeBinaryOperatorExpression>
                  </ns0:CodeBinaryOperatorExpression.Right>
                  <ns0:CodeBinaryOperatorExpression.Left>
                    <ns0:CodeBinaryOperatorExpression Operator="LessThan">
                      <ns0:CodeBinaryOperatorExpression.Right>
                        <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                          <ns0:CodeCastExpression.Expression>
                            <ns0:CodeIndexerExpression>
                              <ns0:CodeIndexerExpression.TargetObject>
                                <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodeThisReferenceExpression />
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                              </ns0:CodeIndexerExpression.TargetObject>
                              <ns0:CodeIndexerExpression.Indices>
                                <ns0:CodePrimitiveExpression>
                                  <ns0:CodePrimitiveExpression.Value>
                                    <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">MinQuantity</ns1:String>
                                  </ns0:CodePrimitiveExpression.Value>
                                </ns0:CodePrimitiveExpression>
                              </ns0:CodeIndexerExpression.Indices>
                            </ns0:CodeIndexerExpression>
                          </ns0:CodeCastExpression.Expression>
                        </ns0:CodeCastExpression>
                      </ns0:CodeBinaryOperatorExpression.Right>
                      <ns0:CodeBinaryOperatorExpression.Left>
                        <ns0:CodePropertyReferenceExpression PropertyName="TotalQuantity">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeCastExpression TargetType="Mediachase.Commerce.Marketing.PromotionEntriesSet">
                              <ns0:CodeCastExpression.Expression>
                                <ns0:CodeIndexerExpression>
                                  <ns0:CodeIndexerExpression.TargetObject>
                                    <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                      <ns0:CodePropertyReferenceExpression.TargetObject>
                                        <ns0:CodeThisReferenceExpression />
                                      </ns0:CodePropertyReferenceExpression.TargetObject>
                                    </ns0:CodePropertyReferenceExpression>
                                  </ns0:CodeIndexerExpression.TargetObject>
                                  <ns0:CodeIndexerExpression.Indices>
                                    <ns0:CodePrimitiveExpression>
                                      <ns0:CodePrimitiveExpression.Value>
                                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">RuleSkuSet</ns1:String>
                                      </ns0:CodePrimitiveExpression.Value>
                                    </ns0:CodePrimitiveExpression>
                                  </ns0:CodeIndexerExpression.Indices>
                                </ns0:CodeIndexerExpression>
                              </ns0:CodeCastExpression.Expression>
                            </ns0:CodeCastExpression>
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeBinaryOperatorExpression.Left>
                    </ns0:CodeBinaryOperatorExpression>
                  </ns0:CodeBinaryOperatorExpression.Left>
                </ns0:CodeBinaryOperatorExpression>
              </RuleExpressionCondition.Expression>
            </RuleExpressionCondition>
          </Rule.Condition>
        </Rule>
        <Rule Name="CalculatePercentageReward" Description="{p1:Null}" ReevaluationBehavior="Always" Active="True" Priority="2">
          <Rule.ThenActions>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                      <ns0:CodeCastExpression.Expression>
                        <ns0:CodeBinaryOperatorExpression Operator="Multiply">
                          <ns0:CodeBinaryOperatorExpression.Right>
                            <ns0:CodePrimitiveExpression>
                              <ns0:CodePrimitiveExpression.Value>
                                <ns1:Decimal xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">0.01</ns1:Decimal>
                              </ns0:CodePrimitiveExpression.Value>
                            </ns0:CodePrimitiveExpression>
                          </ns0:CodeBinaryOperatorExpression.Right>
                          <ns0:CodeBinaryOperatorExpression.Left>
                            <ns0:CodeBinaryOperatorExpression Operator="Multiply">
                              <ns0:CodeBinaryOperatorExpression.Right>
                                <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                                  <ns0:CodeCastExpression.Expression>
                                    <ns0:CodeIndexerExpression>
                                      <ns0:CodeIndexerExpression.TargetObject>
                                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                          <ns0:CodePropertyReferenceExpression.TargetObject>
                                            <ns0:CodeThisReferenceExpression />
                                          </ns0:CodePropertyReferenceExpression.TargetObject>
                                        </ns0:CodePropertyReferenceExpression>
                                      </ns0:CodeIndexerExpression.TargetObject>
                                      <ns0:CodeIndexerExpression.Indices>
                                        <ns0:CodePrimitiveExpression>
                                          <ns0:CodePrimitiveExpression.Value>
                                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                                          </ns0:CodePrimitiveExpression.Value>
                                        </ns0:CodePrimitiveExpression>
                                      </ns0:CodeIndexerExpression.Indices>
                                    </ns0:CodeIndexerExpression>
                                  </ns0:CodeCastExpression.Expression>
                                </ns0:CodeCastExpression>
                              </ns0:CodeBinaryOperatorExpression.Right>
                              <ns0:CodeBinaryOperatorExpression.Left>
                                <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                                  <ns0:CodeCastExpression.Expression>
                                    <ns0:CodePropertyReferenceExpression PropertyName="ShippingSubTotal">
                                      <ns0:CodePropertyReferenceExpression.TargetObject>
                                        <ns0:CodePropertyReferenceExpression PropertyName="PromotionCurrentShipment">
                                          <ns0:CodePropertyReferenceExpression.TargetObject>
                                            <ns0:CodeThisReferenceExpression />
                                          </ns0:CodePropertyReferenceExpression.TargetObject>
                                        </ns0:CodePropertyReferenceExpression>
                                      </ns0:CodePropertyReferenceExpression.TargetObject>
                                    </ns0:CodePropertyReferenceExpression>
                                  </ns0:CodeCastExpression.Expression>
                                </ns0:CodeCastExpression>
                              </ns0:CodeBinaryOperatorExpression.Left>
                            </ns0:CodeBinaryOperatorExpression>
                          </ns0:CodeBinaryOperatorExpression.Left>
                        </ns0:CodeBinaryOperatorExpression>
                      </ns0:CodeCastExpression.Expression>
                    </ns0:CodeCastExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
          </Rule.ThenActions>
          <Rule.Condition>
            <RuleExpressionCondition Name="{p1:Null}">
              <RuleExpressionCondition.Expression>
                <ns0:CodeBinaryOperatorExpression Operator="ValueEquality" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeBinaryOperatorExpression.Right>
                    <ns0:CodePrimitiveExpression>
                      <ns0:CodePrimitiveExpression.Value>
                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">Percentage</ns1:String>
                      </ns0:CodePrimitiveExpression.Value>
                    </ns0:CodePrimitiveExpression>
                  </ns0:CodeBinaryOperatorExpression.Right>
                  <ns0:CodeBinaryOperatorExpression.Left>
                    <ns0:CodeMethodInvokeExpression>
                      <ns0:CodeMethodInvokeExpression.Method>
                        <ns0:CodeMethodReferenceExpression MethodName="ToString">
                          <ns0:CodeMethodReferenceExpression.TargetObject>
                            <ns0:CodeIndexerExpression>
                              <ns0:CodeIndexerExpression.TargetObject>
                                <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodeThisReferenceExpression />
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                              </ns0:CodeIndexerExpression.TargetObject>
                              <ns0:CodeIndexerExpression.Indices>
                                <ns0:CodePrimitiveExpression>
                                  <ns0:CodePrimitiveExpression.Value>
                                    <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountType</ns1:String>
                                  </ns0:CodePrimitiveExpression.Value>
                                </ns0:CodePrimitiveExpression>
                              </ns0:CodeIndexerExpression.Indices>
                            </ns0:CodeIndexerExpression>
                          </ns0:CodeMethodReferenceExpression.TargetObject>
                        </ns0:CodeMethodReferenceExpression>
                      </ns0:CodeMethodInvokeExpression.Method>
                    </ns0:CodeMethodInvokeExpression>
                  </ns0:CodeBinaryOperatorExpression.Left>
                </ns0:CodeBinaryOperatorExpression>
              </RuleExpressionCondition.Expression>
            </RuleExpressionCondition>
          </Rule.Condition>
        </Rule>
        <Rule Name="CalculateValueRewardDefault" Description="{p1:Null}" ReevaluationBehavior="Always" Active="True" Priority="1">
          <Rule.ThenActions>
            <RuleStatementAction>
              <RuleStatementAction.CodeDomStatement>
                <ns0:CodeAssignStatement LinePragma="{p1:Null}" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeAssignStatement.Right>
                    <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                      <ns0:CodeCastExpression.Expression>
                        <ns0:CodePropertyReferenceExpression PropertyName="ShippingSubTotal">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodePropertyReferenceExpression PropertyName="PromotionCurrentShipment">
                              <ns0:CodePropertyReferenceExpression.TargetObject>
                                <ns0:CodeThisReferenceExpression />
                              </ns0:CodePropertyReferenceExpression.TargetObject>
                            </ns0:CodePropertyReferenceExpression>
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeCastExpression.Expression>
                    </ns0:CodeCastExpression>
                  </ns0:CodeAssignStatement.Right>
                  <ns0:CodeAssignStatement.Left>
                    <ns0:CodeIndexerExpression>
                      <ns0:CodeIndexerExpression.TargetObject>
                        <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                          <ns0:CodePropertyReferenceExpression.TargetObject>
                            <ns0:CodeThisReferenceExpression />
                          </ns0:CodePropertyReferenceExpression.TargetObject>
                        </ns0:CodePropertyReferenceExpression>
                      </ns0:CodeIndexerExpression.TargetObject>
                      <ns0:CodeIndexerExpression.Indices>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeIndexerExpression.Indices>
                    </ns0:CodeIndexerExpression>
                  </ns0:CodeAssignStatement.Left>
                </ns0:CodeAssignStatement>
              </RuleStatementAction.CodeDomStatement>
            </RuleStatementAction>
          </Rule.ThenActions>
          <Rule.Condition>
            <RuleExpressionCondition Name="{p1:Null}">
              <RuleExpressionCondition.Expression>
                <ns0:CodeBinaryOperatorExpression Operator="BooleanAnd" xmlns:ns0="clr-namespace:System.CodeDom;Assembly=System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                  <ns0:CodeBinaryOperatorExpression.Right>
                    <ns0:CodeBinaryOperatorExpression Operator="LessThan">
                      <ns0:CodeBinaryOperatorExpression.Right>
                        <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                          <ns0:CodeCastExpression.Expression>
                            <ns0:CodeIndexerExpression>
                              <ns0:CodeIndexerExpression.TargetObject>
                                <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodeThisReferenceExpression />
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                              </ns0:CodeIndexerExpression.TargetObject>
                              <ns0:CodeIndexerExpression.Indices>
                                <ns0:CodePrimitiveExpression>
                                  <ns0:CodePrimitiveExpression.Value>
                                    <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountOff</ns1:String>
                                  </ns0:CodePrimitiveExpression.Value>
                                </ns0:CodePrimitiveExpression>
                              </ns0:CodeIndexerExpression.Indices>
                            </ns0:CodeIndexerExpression>
                          </ns0:CodeCastExpression.Expression>
                        </ns0:CodeCastExpression>
                      </ns0:CodeBinaryOperatorExpression.Right>
                      <ns0:CodeBinaryOperatorExpression.Left>
                        <ns0:CodeCastExpression TargetType="System.Decimal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                          <ns0:CodeCastExpression.Expression>
                            <ns0:CodePropertyReferenceExpression PropertyName="ShippingSubTotal">
                              <ns0:CodePropertyReferenceExpression.TargetObject>
                                <ns0:CodePropertyReferenceExpression PropertyName="PromotionCurrentShipment">
                                  <ns0:CodePropertyReferenceExpression.TargetObject>
                                    <ns0:CodeThisReferenceExpression />
                                  </ns0:CodePropertyReferenceExpression.TargetObject>
                                </ns0:CodePropertyReferenceExpression>
                              </ns0:CodePropertyReferenceExpression.TargetObject>
                            </ns0:CodePropertyReferenceExpression>
                          </ns0:CodeCastExpression.Expression>
                        </ns0:CodeCastExpression>
                      </ns0:CodeBinaryOperatorExpression.Left>
                    </ns0:CodeBinaryOperatorExpression>
                  </ns0:CodeBinaryOperatorExpression.Right>
                  <ns0:CodeBinaryOperatorExpression.Left>
                    <ns0:CodeBinaryOperatorExpression Operator="ValueEquality">
                      <ns0:CodeBinaryOperatorExpression.Right>
                        <ns0:CodePrimitiveExpression>
                          <ns0:CodePrimitiveExpression.Value>
                            <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">Value</ns1:String>
                          </ns0:CodePrimitiveExpression.Value>
                        </ns0:CodePrimitiveExpression>
                      </ns0:CodeBinaryOperatorExpression.Right>
                      <ns0:CodeBinaryOperatorExpression.Left>
                        <ns0:CodeMethodInvokeExpression>
                          <ns0:CodeMethodInvokeExpression.Method>
                            <ns0:CodeMethodReferenceExpression MethodName="ToString">
                              <ns0:CodeMethodReferenceExpression.TargetObject>
                                <ns0:CodeIndexerExpression>
                                  <ns0:CodeIndexerExpression.TargetObject>
                                    <ns0:CodePropertyReferenceExpression PropertyName="RuntimeContext">
                                      <ns0:CodePropertyReferenceExpression.TargetObject>
                                        <ns0:CodeThisReferenceExpression />
                                      </ns0:CodePropertyReferenceExpression.TargetObject>
                                    </ns0:CodePropertyReferenceExpression>
                                  </ns0:CodeIndexerExpression.TargetObject>
                                  <ns0:CodeIndexerExpression.Indices>
                                    <ns0:CodePrimitiveExpression>
                                      <ns0:CodePrimitiveExpression.Value>
                                        <ns1:String xmlns:ns1="clr-namespace:System;Assembly=mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">AmountType</ns1:String>
                                      </ns0:CodePrimitiveExpression.Value>
                                    </ns0:CodePrimitiveExpression>
                                  </ns0:CodeIndexerExpression.Indices>
                                </ns0:CodeIndexerExpression>
                              </ns0:CodeMethodReferenceExpression.TargetObject>
                            </ns0:CodeMethodReferenceExpression>
                          </ns0:CodeMethodInvokeExpression.Method>
                        </ns0:CodeMethodInvokeExpression>
                      </ns0:CodeBinaryOperatorExpression.Left>
                    </ns0:CodeBinaryOperatorExpression>
                  </ns0:CodeBinaryOperatorExpression.Left>
                </ns0:CodeBinaryOperatorExpression>
              </RuleExpressionCondition.Expression>
            </RuleExpressionCondition>
          </Rule.Condition>
        </Rule>
      </RuleSet.Rules>
    </RuleSet>
  </Expression>
</Promotion>
